<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"  
      xmlns:h="http://xmlns.jcp.org/jsf/html"  
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <ui:include src="../helpers/header.xhtml">
        <ui:param name="title" value="Site De Venda"/>
    </ui:include>
    <ui:include src="../helpers/navbar.xhtml"/>
    <h:body>
        <div class="ui text container">
            <center>
                <h1>
                    #{msg['site.cadastro.h1']}
                </h1>
            </center>
            <h:form class="ui form" id="form">
                <div class="field">
                    <h:outputLabel for="nome">#{msg['site.list.nome']}</h:outputLabel>  
                    <h:inputText value="#{siteDeVendaBean.siteDeVenda.nome}" id="nome" maxlength="30">
                        <f:validateRequired/>
                    </h:inputText>
                </div>
                <div class="field">
                    <h:outputLabel for="email">#{msg['site.list.email']}</h:outputLabel>  
                    <h:inputText value="#{siteDeVendaBean.siteDeVenda.email}" id="email" maxlength="50">
                        <f:validateRequired/>
                    </h:inputText>
                </div>
                <div class="field">
                    <h:outputLabel for="senha">#{msg['site.cadastro.password']}</h:outputLabel>   
                    <h:inputSecret value="#{siteDeVendaBean.siteDeVenda.senha}" id="senha" a:placeholder="******" maxlength="18">
                        <f:validateRequired/>
                    </h:inputSecret>
                </div>
                <div class="field">
                    <h:outputLabel for="url">#{msg['site.list.url']}</h:outputLabel>  
                    <h:inputText value="#{siteDeVendaBean.siteDeVenda.url}" id="url" maxlength="100">
                        <f:validateRequired/>
                    </h:inputText>
                </div>
                <div class="field">
                    <h:outputLabel for="telefone">#{msg['site.list.telefone']}</h:outputLabel>   
                    <h:inputText value="#{siteDeVendaBean.siteDeVenda.telefone}" id="telefone" a:placeholder="(99)9999-99999" styleClass="telefone" maxlength="20">
                        <f:validateRequired/>
                    </h:inputText>
                    <div class="ui negative message hidden">
                        <p>#{msg['allform.error']}</p>
                    </div>
                    <br></br>
                    <br></br>
                    <h:commandButton value="Submit" action="#{siteDeVendaBean.salva()}" class="ui positive button"/>
                </div>
            </h:form>
        </div>
        <h:outputScript library="js" name="jquery.mask.min.js" />
        <ui:include src="../helpers/footer.xhtml"/>
        <script>
         jQuery("input.telefone")
        .mask("(99) 99999-9999")
        .focusout(function (event) {  
            var target, phone, element;  
            target = (event.currentTarget) ? event.currentTarget : event.srcElement;  
            phone = target.value.replace(/\D/g, '');
            element = $(target);  
            element.unmask();  
            if(phone.length > 10) {  
                element.mask("(99) 99999-9999");  
            } else {  
                element.mask("(99) 9999-9999");  
            }  
        });
        function isEmail(email) {
            var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            return regex.test(email);
          }
        </script>
    </h:body>
</html>

