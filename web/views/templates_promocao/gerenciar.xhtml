<html xmlns="http://www.w3.org/1999/xhtml"  
      xmlns:h="http://xmlns.jcp.org/jsf/html"  
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <ui:include src="../helpers/header.xhtml">
        <ui:param name="title" value="home"/>
    </ui:include>
    <ui:include src="../helpers/navbar.xhtml"/>
    <h:body>
        <div class="ui container">

            <center>
                <h1>#{msg['promocao.gerenciamento.h1']}</h1>
            </center>
            <br/>
            <div class="ui centered grid">
                <div class="six wide column">
                    <h:form class="ui form" id="form">
                        <div class="fields">
                            <div class="twelve wide field">
                                <label>#{msg['promocao.list.busca']}</label>
                                <h:inputText a:type="text" a:id="busca"/>
                            </div>
                        </div>
                    </h:form>
                </div>
            </div>

            <br/>
            <br/>


            <h:dataTable value="#{promocaoBean.promocoes}" var="prom"
                         styleClass="order-table"
                         headerClass="order-table-header"
                         rowClasses="order-table-odd-row,order-table-even-row"
                         class="ui sortable celled table"
                         a:name="table"
                         id="table">
                <h:column>
                    <f:facet name="header">#{msg['promocao.list.peca_nome']}</f:facet>
                        #{prom.nome_peca}
                </h:column>

                <h:column>
                    <f:facet name="header">#{msg['promocao.list.preco']}</f:facet>
                        #{prom.preco}
                </h:column>

                <h:column>
                    <f:facet name="header">#{msg['promocao.list.endereco']}</f:facet>
                    #{prom.siteDeVenda.nome} - #{prom.siteDeVenda.url}
                </h:column>

                <h:column>
                    <f:facet name="header">#{msg['promocao.list.cnpj']}</f:facet>
                    #{prom.teatro.nome} - #{prom.teatro.cnpj}
                </h:column>
                <h:column>
                    <f:facet name="header">#{msg['promocao.list.data_hora']}</f:facet>
                        #{prom.datetime}
                </h:column>
                <h:column>    
                    <f:facet name="header">#{msg['teatro.list.actions']}</f:facet>
                    <h:form>
                        <h:commandButton action="#{promocaoBean.edita(prom.id_promocao)}" value="#{msg['crud.edit']}" />
                        <h:commandButton action="#{promocaoBean.delete(prom.id_promocao)}" value="#{msg['crud.delete']}" />
                    </h:form>
                </h:column>
            </h:dataTable>
        </div>
        <h:outputScript library="js" name="busca.js" />

        <ui:include src="../helpers/footer.xhtml"/>
    </h:body>
</html>
