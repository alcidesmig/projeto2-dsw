<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"  
      xmlns:h="http://xmlns.jcp.org/jsf/html"  
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <ui:include src="../helpers/header.xhtml">
        <ui:param name="title" value="home"/>
    </ui:include>
    <ui:include src="../helpers/navbar.xhtml"/>
    <h:body>
        <div class="ui text container">
            <center>
                <h1>
                    #{msg['promocao.cadastro.h1']}
                </h1>
            </center>
            <h:form class="ui form" id="form">
                <h4>                    
                    <h:outputLabel>#{promocaoBean.erro}</h:outputLabel>  
                </h4>
                <div class="form-group field">
                    <h:outputLabel for="nome_peca">#{msg['promocao.list.peca_nome']}</h:outputLabel>  
                    <h:inputText value="#{promocaoBean.promocao.nome_peca}" id="nome_peca" >
                        <f:validateRequired/>
                    </h:inputText>
                </div>
                <div class="form-group field">
                    <h:outputLabel for="preco">#{msg['promocao.list.preco']}</h:outputLabel>  
                    <h:inputText value="#{promocaoBean.promocao.preco}" id="preco" styleClass="money">
                        <f:validateRequired/>
                    </h:inputText>
                </div>
                <div class="form-group field">
                    <h:outputLabel for="datetime">#{msg['promocao.list.data_hora']}</h:outputLabel>   
                    <h:inputText value="#{promocaoBean.promocao.datetime}" id="datetime" a:placeholder="DD/MM/YY HH:MM:SS" styleClass="data_hora">
                        <f:validateRequired/>
                    </h:inputText>
                </div>
                <div class="form-group field">
                    <h:outputLabel for="siteDeVenda">#{msg['promocao.list.endereco']}</h:outputLabel>   
                    <div class="col-sm-4">
                        <h:selectOneMenu id="siteDeVenda" value="#{promocaoBean.promocao.siteDeVenda}">
                            <f:selectItems value="#{promocaoBean.sitesDeVenda}" var="site" 
                                           itemLabel="#{site.nome}"
                                           />
                            <f:converter converterId="SiteDeVendaConverter" />

                        </h:selectOneMenu>
                    </div>      
                </div>
                <div class="form-group field">
                    <h:outputLabel for="teatro">#{msg['promocao.cadastro.sala_teatro']}</h:outputLabel>   
                    <div class="col-sm-4">
                        <h:selectOneMenu id="teatro" value="#{promocaoBean.promocao.teatro}">
                            <f:selectItems value="#{promocaoBean.teatros}" var="teatro" 
                                           itemLabel="#{teatro.nome}"
                                           />
                            <f:converter converterId="SalaDeTeatroConverter" />

                        </h:selectOneMenu>
                    </div>
                    <div class="ui negative message hidden">
                        <p>#{msg['allform.error']}</p>
                    </div>
                    <br/>
                    <br/> 
                    <center>
                        <h:commandButton value="#{msg['enviar']}" action="#{promocaoBean.salva()}" class="ui positive button centered"/>
                    </center>
                </div>
            </h:form>
        </div>
        <script>
            jQuery("input.money").mask('999.00', {reverse: true});
            jQuery("input.data_hora").mask("99/99/99 99:99:99", {reverse: true});
        </script>
        <ui:include src="../helpers/footer.xhtml"/>
    </h:body>
</html>

